{"ast":null,"code":"import _defineProperty from\"C:/Orbital/OrbitalPrep/bookwebapp/rwfb/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"C:/Orbital/OrbitalPrep/bookwebapp/rwfb/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"C:/Orbital/OrbitalPrep/bookwebapp/rwfb/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"C:/Orbital/OrbitalPrep/bookwebapp/rwfb/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Orbital/OrbitalPrep/bookwebapp/rwfb/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import React from'react';import axios from'axios';import{useState,useEffect}from'react';import{useNavigate}from'react-router-dom';import{auth}from\"../config/firebase\";import{UserAuthenication}from'../LoginContext';import tailw from\"../config/styles\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";axios.defaults.withCredentials=true;var Account=function Account(){// handling user navigation\nvar _UserAuthenication=UserAuthenication(),user=_UserAuthenication.user,logout=_UserAuthenication.logout;var navigate=useNavigate();var handleLogout=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(e){return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.prev=0;e.preventDefault();_context.next=4;return logout(auth);case 4:navigate('/');_context.next=10;break;case 7:_context.prev=7;_context.t0=_context[\"catch\"](0);alert(\"hey logout issue\");case 10:case\"end\":return _context.stop();}},_callee,null,[[0,7]]);}));return function handleLogout(_x){return _ref.apply(this,arguments);};}();// handling display of data from backend\nvar _useState=useState([]),_useState2=_slicedToArray(_useState,2),datas=_useState2[0],setDatas=_useState2[1];useEffect(function(){fetch('http://127.0.0.1:8000/api/display',{'method':'GET',headers:{'Content-Type':'application/json'}}).then(function(resp){return resp.json();}).then(function(resp){return setDatas(resp);}).catch(function(error){return alert(error);});},[]);// handling POST of data to create venues via a form\n// create a default Venue input object\nvar initialVenue={name:\"\",location:\"\",closed:false,total_pax:0,host:\"\"};var _useState3=useState(initialVenue),_useState4=_slicedToArray(_useState3,2),values=_useState4[0],setValues=_useState4[1];// handle input change of the form\nvar handleChange=function handleChange(e){var _e$target=e.target,name=_e$target.name,value=_e$target.value;setValues(_objectSpread(_objectSpread({},values),{},_defineProperty({},name,value)));console.log(values);};// handle the submit of the form to django\nvar handleSubmit=function handleSubmit(e){e.preventDefault();csrfToken=\"{% csrf_token %}\";axios.post({method:'post',url:\"http://127.0.0.1:8000/api/venue\",data:{name:values.name},headers:{\"X-CSRFToken\":csrfToken}}).then(function(res){console.log(res);console.log(res.data);});/*\r\n    fetch('http://127.0.0.1:8000/api/venue', {\r\n      method: 'POST',\r\n      headers: {\"Content-Type\":\"application/json\"},\r\n      body: JSON.stringify(values)\r\n    });\r\n    */};return/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-[600px] mx-auto my-16 p-4\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-2xl font-bold py-4\",children:\"Account\"}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Welcome User: \",user===null||user===void 0?void 0:user.email,\" \"]}),/*#__PURE__*/_jsx(\"button\",{onClick:handleLogout,className:\"border px-6 py-2 my-4\",children:\"Logout\"}),/*#__PURE__*/_jsx(\"div\",{children:datas.map(function(datas){return/*#__PURE__*/_jsx(\"h2\",{children:datas.name});})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"name\",onChange:handleChange,placeholder:\"name\",value:values.name}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"location\",onChange:handleChange,placeholder:\"location\",value:values.location}),/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",name:\"closed\",onChange:handleChange,placeholder:\"closed\",value:values.closed}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",name:\"total_pax\",onChange:handleChange,placeholder:\"total_pax\",value:values.total_pax}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"host\",onChange:handleChange,placeholder:\"host\",value:values.host}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Add\"})]})})]});};export default Account;","map":{"version":3,"names":["React","axios","useState","useEffect","useNavigate","auth","UserAuthenication","tailw","jsx","_jsx","jsxs","_jsxs","defaults","withCredentials","Account","_UserAuthenication","user","logout","navigate","handleLogout","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","e","wrap","_callee$","_context","prev","next","preventDefault","t0","alert","stop","_x","apply","arguments","_useState","_useState2","_slicedToArray","datas","setDatas","fetch","headers","then","resp","json","catch","error","initialVenue","name","location","closed","total_pax","host","_useState3","_useState4","values","setValues","handleChange","_e$target","target","value","_objectSpread","_defineProperty","console","log","handleSubmit","csrfToken","post","method","url","data","res","className","children","email","onClick","map","onSubmit","type","onChange","placeholder"],"sources":["C:/Orbital/OrbitalPrep/bookwebapp/rwfb/src/components/Account.js"],"sourcesContent":["import React from 'react';\r\nimport axios from 'axios'\r\nimport { useState, useEffect } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\n\r\nimport { auth } from \"../config/firebase\";\r\nimport { UserAuthenication } from '../LoginContext';\r\n\r\nimport tailw from \"../config/styles\";\r\naxios.defaults.withCredentials = true;\r\n\r\nconst Account = () => {\r\n\r\n  // handling user navigation\r\n  const { user, logout } = UserAuthenication();\r\n  const navigate = useNavigate();\r\n\r\n  const handleLogout = async (e) => {\r\n    try {\r\n        e.preventDefault();  \r\n        await logout(auth);\r\n        navigate('/');\r\n    } catch (e) {\r\n        alert(\"hey logout issue\");\r\n    }\r\n  }; \r\n\r\n  // handling display of data from backend\r\n  const [datas, setDatas] = useState([]);\r\n\r\n  useEffect(() => {\r\n    fetch('http://127.0.0.1:8000/api/display', {\r\n      'method' : 'GET',\r\n      headers: {\r\n        'Content-Type': 'application/json'\r\n      }\r\n  }).then(resp => resp.json())\r\n  .then(resp => setDatas(resp))\r\n  .catch(error => alert(error))\r\n}, [])\r\n\r\n  // handling POST of data to create venues via a form\r\n  // create a default Venue input object\r\n  const initialVenue = {\r\n    name: \"\",\r\n    location: \"\",\r\n    closed: false,\r\n    total_pax: 0,\r\n    host: \"\",\r\n  }\r\n  const [values, setValues] = useState(initialVenue);\r\n\r\n  // handle input change of the form\r\n  const handleChange = (e) => {\r\n    const {name, value} = e.target;\r\n\r\n    setValues({\r\n      ...values,\r\n      [name]: value,\r\n    })\r\n    console.log(values)\r\n  }\r\n\r\n  // handle the submit of the form to django\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    csrfToken = \"{% csrf_token %}\";\r\n    \r\n    axios.post({\r\n      method: 'post',\r\n      url: `http://127.0.0.1:8000/api/venue`, \r\n      data: { \r\n        name: values.name \r\n      },\r\n      headers: {\"X-CSRFToken\": csrfToken},\r\n    })\r\n      .then(res => {\r\n        console.log(res);\r\n        console.log(res.data);\r\n      }); \r\n\r\n      /*\r\n    fetch('http://127.0.0.1:8000/api/venue', {\r\n      method: 'POST',\r\n      headers: {\"Content-Type\":\"application/json\"},\r\n      body: JSON.stringify(values)\r\n    });\r\n    */\r\n  }\r\n\r\n\r\n  return (\r\n    <div className='max-w-[600px] mx-auto my-16 p-4'>\r\n      <h1 className='text-2xl font-bold py-4'>Account</h1>\r\n      <p>Welcome User: {user?.email} </p>\r\n\r\n      <button onClick={handleLogout} className='border px-6 py-2 my-4'>\r\n        Logout\r\n      </button>\r\n\r\n      <div>\r\n      {datas.map(datas => {\r\n        return <h2>{datas.name}</h2>\r\n      })}\r\n      </div>\r\n\r\n      <div>\r\n        <form onSubmit={handleSubmit}>\r\n\r\n          <input type=\"text\" name=\"name\" onChange={handleChange} \r\n          placeholder='name' value={values.name}/>\r\n          <input type=\"text\" name=\"location\" onChange={handleChange} \r\n          placeholder='location' value={values.location}/>\r\n          <input type=\"checkbox\" name=\"closed\" onChange={handleChange} \r\n          placeholder='closed' value={values.closed}/>\r\n          <input type=\"number\" name=\"total_pax\" onChange={handleChange} \r\n          placeholder='total_pax' value={values.total_pax}/>\r\n          <input type=\"text\" name=\"host\" onChange={handleChange} \r\n          placeholder='host' value={values.host}/>\r\n\r\n          <button type=\"submit\">Add</button>\r\n        </form>\r\n\r\n      </div>\r\n      \r\n\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Account;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}