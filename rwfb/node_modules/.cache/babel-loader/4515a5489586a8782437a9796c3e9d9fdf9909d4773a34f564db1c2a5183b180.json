{"ast":null,"code":"import _regeneratorRuntime from\"C:/Orbital/orbit/rwfb/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Orbital/orbit/rwfb/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Orbital/orbit/rwfb/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{Fragment,useState}from\"react\";import{Link,useNavigate}from\"react-router-dom\";// tailwind css object file\nimport{tailw}from\"../config/styles\";import{UserAuthentication}from'../LoginContext';import ForgotPasswordModal from\"./forgot_password\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var Signin=function Signin(){// setting states for email & password\nvar _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),email=_useState2[0],setEmail=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),password=_useState4[0],setPassword=_useState4[1];var navigate=useNavigate();var _UserAuthentication=UserAuthentication(),login=_UserAuthentication.login,resetPassword=_UserAuthentication.resetPassword;//LoginUser function \nvar handleLogin=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(e){return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.prev=0;e.preventDefault();_context.next=4;return login(email,password);case 4:navigate('/Home');_context.next=11;break;case 7:_context.prev=7;_context.t0=_context[\"catch\"](0);alert(_context.t0);navigate('/signup');case 11:case\"end\":return _context.stop();}},_callee,null,[[0,7]]);}));return function handleLogin(_x){return _ref.apply(this,arguments);};}();//Reset Password function\nvar forgotPassword=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(){return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:if(!email){_context2.next=11;break;}_context2.prev=1;_context2.next=4;return resetPassword(email);case 4:_context2.next=9;break;case 6:_context2.prev=6;_context2.t0=_context2[\"catch\"](1);alert(\"Enter a valid email with a @\");case 9:_context2.next=12;break;case 11:alert(\"Enter a valid email\");case 12:case\"end\":return _context2.stop();}},_callee2,null,[[1,6]]);}));return function forgotPassword(){return _ref2.apply(this,arguments);};}();// for forgotPassword Modal handling\nvar _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),showModal=_useState6[0],setShowModal=_useState6[1];return/*#__PURE__*/_jsxs(Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:tailw.bg,children:/*#__PURE__*/_jsx(\"div\",{class:\"h-screen flex items-center justify-center\",children:/*#__PURE__*/_jsx(\"div\",{class:\" w-full max-w-sm p-4 bg-white border border-gray-200 rounded-lg shadow sm:p-6 md:p-8 dark:bg-gray-800 dark:border-gray-700\",children:/*#__PURE__*/_jsxs(\"form\",{class:\"space-y-6\",children:[/*#__PURE__*/_jsx(\"h5\",{class:\"text-xl font-medium text-gray-900 dark:text-white\",children:\"Sign in to NuNMe.\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{for:\"email\",class:\"block mb-2 text-sm font-medium text-gray-900 dark:text-white\",children:\"Your email\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",name:\"email\",id:\"email\",onChange:function onChange(e){return setEmail(e.target.value);},class:\"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-600 dark:border-gray-500 dark:placeholder-gray-400 dark:text-white\",placeholder:\"nusid@nus.edu.u\",required:true})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{for:\"password\",class:\"block mb-2 text-sm font-medium text-gray-900 dark:text-white\",children:\"Your password\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",name:\"password\",id:\"password\",onChange:function onChange(e){return setPassword(e.target.value);},placeholder:\"\\u2022\\u2022\\u2022\\u2022\\u2022\\u2022\\u2022\\u2022\",class:\"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-600 dark:border-gray-500 dark:placeholder-gray-400 dark:text-white\",required:true})]}),/*#__PURE__*/_jsx(\"div\",{class:\"flex items-center\",children:/*#__PURE__*/_jsx(\"label\",{onClick:function onClick(){return setShowModal(true);},class:\"text-sm text-blue-700 hover:underline dark:text-blue-500\",children:\"Lost Password?\"})}),/*#__PURE__*/_jsx(\"button\",{onClick:handleLogin,class:\"w-full text-white bg-red-600 hover:bg-red-800 focus:ring-4 focus:outline-none focus:bg-red-900 font-medium rounded-lg text-m px-5 py-2.5 text-center dark:bg-red-600 dark:hover:bg-red-800 dark:focus:bg-red-900\",children:\"Login\"}),/*#__PURE__*/_jsxs(\"div\",{class:\"text-sm font-medium text-gray-500 dark:text-gray-300\",children:[\"Not registered? \",/*#__PURE__*/_jsxs(Link,{to:\"/signup\",children:[\" \",/*#__PURE__*/_jsx(\"span\",{class:\"text-blue-700 hover:underline dark:text-blue-500\",children:\"Create account\"}),\" \"]})]})]})})})}),/*#__PURE__*/_jsx(ForgotPasswordModal,{isVisible:showModal,onClose:function onClose(){return setShowModal(false);},children:/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{for:\"email\",class:\"block mb-2 text-sm font-medium text-gray-900 dark:text-white\",children:\"Enter your email\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",name:\"email\",id:\"email\",onChange:function onChange(e){return setEmail(e.target.value);},class:\"mb-2 bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-600 dark:border-gray-500 dark:placeholder-gray-400 dark:text-white\",placeholder:\"nusid@nus.edu.u\",required:true})]}),/*#__PURE__*/_jsx(\"button\",{onClick:forgotPassword,class:\"w-full text-white bg-red-600 hover:bg-red-800 focus:ring-4 focus:outline-none focus:bg-red-900 font-medium rounded-lg text-m px-5 py-2.5 text-center dark:bg-red-600 dark:hover:bg-red-800 dark:focus:bg-red-900\",children:\"Send Reset Link\"})]})})]});};export default Signin;","map":{"version":3,"names":["React","Fragment","useState","Link","useNavigate","tailw","UserAuthentication","ForgotPasswordModal","jsx","_jsx","jsxs","_jsxs","_Fragment","Signin","_useState","_useState2","_slicedToArray","email","setEmail","_useState3","_useState4","password","setPassword","navigate","_UserAuthentication","login","resetPassword","handleLogin","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","e","wrap","_callee$","_context","prev","next","preventDefault","t0","alert","stop","_x","apply","arguments","forgotPassword","_ref2","_callee2","_callee2$","_context2","_useState5","_useState6","showModal","setShowModal","children","className","bg","class","for","type","name","id","onChange","target","value","placeholder","required","onClick","to","isVisible","onClose"],"sources":["C:/Orbital/orbit/rwfb/src/components/Signin.js"],"sourcesContent":["import React, { Fragment, useState } from \"react\";\r\nimport { Link, useNavigate } from \"react-router-dom\";\r\n\r\n// tailwind css object file\r\nimport { tailw } from \"../config/styles\";\r\n\r\nimport { UserAuthentication } from '../LoginContext';\r\nimport ForgotPasswordModal from \"./forgot_password\";\r\n\r\nconst Signin = () => {\r\n\r\n    // setting states for email & password\r\n    const [email, setEmail] = useState(\"\");\r\n    const [password, setPassword] = useState(\"\");\r\n\r\n    const navigate = useNavigate();\r\n    const { login, resetPassword } = UserAuthentication();\r\n\r\n    //LoginUser function \r\n    const handleLogin = async (e) => {\r\n        try {\r\n            e.preventDefault();\r\n            await login(email, password);\r\n            navigate('/Home');\r\n        } catch (e) {\r\n            alert(e);\r\n            navigate('/signup');\r\n        }\r\n        \r\n    }; \r\n\r\n    //Reset Password function\r\n    const forgotPassword = async () => {\r\n        if (email) {\r\n            try {\r\n                await resetPassword(email);\r\n            } catch {\r\n                alert(\"Enter a valid email with a @\")\r\n            }\r\n        } else {\r\n            alert(\"Enter a valid email\");\r\n        }\r\n    }\r\n\r\n    // for forgotPassword Modal handling\r\n    const [showModal, setShowModal] = useState(false);\r\n\r\n    return (\r\n        <Fragment>\r\n        <div className={tailw.bg}>\r\n\r\n        <div class=\"h-screen flex items-center justify-center\">\r\n        <div class=\" w-full max-w-sm p-4 bg-white border border-gray-200 rounded-lg shadow sm:p-6 md:p-8 dark:bg-gray-800 dark:border-gray-700\">\r\n            <form class=\"space-y-6\">\r\n                <h5 class=\"text-xl font-medium text-gray-900 dark:text-white\">Sign in to NuNMe.</h5>\r\n                <div>\r\n                    <label for=\"email\" class=\"block mb-2 text-sm font-medium text-gray-900 dark:text-white\">Your email</label>\r\n                    <input type=\"email\" name=\"email\" id=\"email\" onChange={(e) => setEmail(e.target.value)}  class=\"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-600 dark:border-gray-500 dark:placeholder-gray-400 dark:text-white\" placeholder=\"nusid@nus.edu.u\" required/>\r\n                </div>\r\n                <div>\r\n                    <label for=\"password\" class=\"block mb-2 text-sm font-medium text-gray-900 dark:text-white\">Your password</label>\r\n                    <input type=\"password\" name=\"password\" id=\"password\"  onChange={(e) => setPassword(e.target.value)} placeholder=\"••••••••\" class=\"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-600 dark:border-gray-500 dark:placeholder-gray-400 dark:text-white\" required/>\r\n                </div>\r\n                <div class=\"flex items-center\">\r\n                    <label onClick={() => setShowModal(true)} class=\"text-sm text-blue-700 hover:underline dark:text-blue-500\">Lost Password?</label>\r\n                </div>\r\n\r\n                <button onClick={handleLogin} class=\"w-full text-white bg-red-600 hover:bg-red-800 focus:ring-4 focus:outline-none focus:bg-red-900 font-medium rounded-lg text-m px-5 py-2.5 text-center dark:bg-red-600 dark:hover:bg-red-800 dark:focus:bg-red-900\">Login</button>\r\n                \r\n                <div class=\"text-sm font-medium text-gray-500 dark:text-gray-300\">\r\n                    Not registered? <Link to=\"/signup\"> <span class=\"text-blue-700 hover:underline dark:text-blue-500\">Create account</span> </Link>\r\n                </div>\r\n            </form>\r\n        </div>\r\n        </div>\r\n\r\n        </div>\r\n        <ForgotPasswordModal isVisible={showModal} onClose={() => setShowModal(false)} \r\n        children={\r\n            <>\r\n            <div>\r\n            <label for=\"email\" class=\"block mb-2 text-sm font-medium text-gray-900 dark:text-white\">Enter your email</label>\r\n            <input type=\"email\" name=\"email\" id=\"email\" onChange={(e) => setEmail(e.target.value)}  class=\"mb-2 bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-600 dark:border-gray-500 dark:placeholder-gray-400 dark:text-white\" placeholder=\"nusid@nus.edu.u\" required/>\r\n            </div>\r\n            <button onClick={forgotPassword} class=\"w-full text-white bg-red-600 hover:bg-red-800 focus:ring-4 focus:outline-none focus:bg-red-900 font-medium rounded-lg text-m px-5 py-2.5 text-center dark:bg-red-600 dark:hover:bg-red-800 dark:focus:bg-red-900\">Send Reset Link</button>\r\n            </>\r\n        }\r\n\r\n        />\r\n        </Fragment>\r\n    )\r\n}\r\n\r\nexport default Signin;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}