{"ast":null,"code":"import _regeneratorRuntime from\"C:/Orbital/OrbitalPrep/orbit/rwfb/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Orbital/OrbitalPrep/orbit/rwfb/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import{useNavigate}from'react-router-dom';import{auth}from\"../config/firebase\";import{UserAuthentication}from'../LoginContext';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function Navbar(props){// handling user navigation\nvar _UserAuthentication=UserAuthentication(),logout=_UserAuthentication.logout,students=_UserAuthentication.students,user=_UserAuthentication.user;var navigate=useNavigate();// remove the @... from the email -> gives the name\nvar name=props.name;// check if you are in the current page or not\nvar currentPage=\"block py-2 pl-3 pr-4 text-white bg-red-700 rounded md:bg-transparent md:text-red-700 md:p-0 md:dark:text-red-500\";var otherPage=\"block py-2 pl-3 pr-4 text-gray-900 rounded hover:bg-gray-100 md:hover:bg-transparent md:hover:text-red-700 md:p-0 md:dark:hover:text-red-500 dark:text-white dark:hover:bg-gray-700 dark:hover:text-white md:dark:hover:bg-transparent dark:border-gray-700\";function checkCurrentPage(thisButton){if(String(props.current)===thisButton){return currentPage;}else{return otherPage;}};// check if current user is an Admin, if so set bool to true\nvar checker=\"Student\";try{students.map(function(student){// get the current user\nif(String(student.Name)===name){// check if current user is an Admin or not\nif(String(student.tier)===\"Admin\"){checker=\"Admin\";}else if(String(student.tier)===\"Staff\"){checker=\"Staff\";}}});}catch(_unused){console.log(\"oops cannot check admin or not\");}// handle logout\nvar handleLogout=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(e){return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.prev=0;e.preventDefault();_context.next=4;return logout(auth);case 4:navigate('/');_context.next=10;break;case 7:_context.prev=7;_context.t0=_context[\"catch\"](0);alert(\"hey logout issue\");case 10:case\"end\":return _context.stop();}},_callee,null,[[0,7]]);}));return function handleLogout(_x){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"nav\",{class:\"bg-white dark:bg-gray-900 fixed w-full z-20 top-0 left-0 border-b border-gray-200 dark:border-gray-600\",children:/*#__PURE__*/_jsxs(\"div\",{class:\"max-w-screen-xl flex flex-wrap items-center justify-between mx-auto p-4\",children:[/*#__PURE__*/_jsx(\"span\",{class:\"self-center text-2xl font-semibold whitespace-nowrap dark:text-white\",children:\"NuNme.\"}),/*#__PURE__*/_jsxs(\"div\",{class:\"flex md:order-2\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:handleLogout,class:\"text-white bg-red-700 hover:bg-red-800 focus:ring-4 focus:outline-none focus:ring-red-300 font-medium rounded-lg text-sm px-4 py-2 text-center mr-3 md:mr-0 dark:bg-red-600 dark:hover:bg-red-700 dark:focus:ring-red-800\",children:\"Logout\"}),/*#__PURE__*/_jsxs(\"button\",{\"data-collapse-toggle\":\"navbar-sticky\",type:\"button\",class:\"inline-flex items-center p-2 text-sm text-gray-500 rounded-lg md:hidden hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-gray-200 dark:text-gray-400 dark:hover:bg-gray-700 dark:focus:ring-gray-600\",\"aria-controls\":\"navbar-sticky\",\"aria-expanded\":\"false\",children:[/*#__PURE__*/_jsx(\"span\",{class:\"sr-only\",children:\"Open main menu\"}),/*#__PURE__*/_jsx(\"svg\",{class:\"w-6 h-6\",\"aria-hidden\":\"true\",fill:\"currentColor\",viewBox:\"0 0 20 20\",xmlns:\"http://www.w3.org/2000/svg\",children:/*#__PURE__*/_jsx(\"path\",{\"fill-rule\":\"evenodd\",d:\"M3 5a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 10a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 15a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z\",\"clip-rule\":\"evenodd\"})})]})]}),/*#__PURE__*/_jsx(\"div\",{class:\"items-center justify-between hidden w-full md:flex md:w-auto md:order-1\",id:\"navbar-sticky\",children:/*#__PURE__*/_jsxs(\"ul\",{class:\"flex flex-col p-4 md:p-0 mt-4 font-medium border border-gray-100 rounded-lg bg-gray-50 md:flex-row md:space-x-8 md:mt-0 md:border-0 md:bg-white dark:bg-gray-800 md:dark:bg-gray-900 dark:border-gray-700\",children:[/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(\"a\",{href:\"/Home\",class:checkCurrentPage(\"Home\"),children:\"Home\"})}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(\"a\",{href:\"/book_dropdown\",class:checkCurrentPage(\"book_dropdown\"),children:\"Book\"})}),(checker===\"Admin\"||checker===\"Staff\")&&/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(\"a\",{href:\"/approve\",class:checkCurrentPage(\"approve\"),children:\"Approve\"})}),checker===\"Staff\"&&/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(\"a\",{href:\"/staff\",class:checkCurrentPage(\"staff\"),children:\"Staff\"})})]})})]})})});};","map":{"version":3,"names":["useNavigate","auth","UserAuthentication","jsx","_jsx","jsxs","_jsxs","Navbar","props","_UserAuthentication","logout","students","user","navigate","name","currentPage","otherPage","checkCurrentPage","thisButton","String","current","checker","map","student","Name","tier","_unused","console","log","handleLogout","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","e","wrap","_callee$","_context","prev","next","preventDefault","t0","alert","stop","_x","apply","arguments","children","class","type","onClick","fill","viewBox","xmlns","d","id","href"],"sources":["C:/Orbital/OrbitalPrep/orbit/rwfb/src/config/navbar.js"],"sourcesContent":["import { useNavigate } from 'react-router-dom';\r\n\r\nimport { auth } from \"../config/firebase\";\r\nimport { UserAuthentication } from '../LoginContext';\r\n\r\nexport default function Navbar(props) {\r\n\r\n    // handling user navigation\r\n    const { logout, students, user } = UserAuthentication();\r\n    const navigate = useNavigate();\r\n\r\n    // remove the @... from the email -> gives the name\r\n    const name = props.name;\r\n\r\n    // check if you are in the current page or not\r\n    const currentPage = \"block py-2 pl-3 pr-4 text-white bg-red-700 rounded md:bg-transparent md:text-red-700 md:p-0 md:dark:text-red-500\";\r\n    const otherPage = \"block py-2 pl-3 pr-4 text-gray-900 rounded hover:bg-gray-100 md:hover:bg-transparent md:hover:text-red-700 md:p-0 md:dark:hover:text-red-500 dark:text-white dark:hover:bg-gray-700 dark:hover:text-white md:dark:hover:bg-transparent dark:border-gray-700\";\r\n\r\n    function checkCurrentPage(thisButton) {\r\n        if (String(props.current) === thisButton) {\r\n            return currentPage;\r\n        } else {\r\n            return otherPage;\r\n        }\r\n    };\r\n\r\n    // check if current user is an Admin, if so set bool to true\r\n    let checker = \"Student\";\r\n\r\n    try {\r\n        students.map( student => {\r\n            // get the current user\r\n            if(String(student.Name) === name) {\r\n                // check if current user is an Admin or not\r\n                if(String(student.tier) === \"Admin\") {\r\n                    checker = \"Admin\";\r\n                } else if(String(student.tier) === \"Staff\") {\r\n                    checker = \"Staff\";\r\n                }\r\n            }\r\n        })\r\n    } catch {\r\n        console.log(\"oops cannot check admin or not\");\r\n    }\r\n\r\n    // handle logout\r\n    const handleLogout = async (e) => {\r\n        try {\r\n            e.preventDefault();  \r\n            await logout(auth);\r\n            navigate('/');\r\n        } catch (e) {\r\n            alert(\"hey logout issue\");\r\n        }\r\n      }; \r\n\r\n    return (  \r\n        <div> \r\n        <nav class=\"bg-white dark:bg-gray-900 fixed w-full z-20 top-0 left-0 border-b border-gray-200 dark:border-gray-600\">\r\n        <div class=\"max-w-screen-xl flex flex-wrap items-center justify-between mx-auto p-4\">\r\n\r\n        <span class=\"self-center text-2xl font-semibold whitespace-nowrap dark:text-white\">NuNme.</span>\r\n        \r\n        <div class=\"flex md:order-2\">\r\n            <button type=\"button\" onClick={handleLogout} class=\"text-white bg-red-700 hover:bg-red-800 focus:ring-4 focus:outline-none focus:ring-red-300 font-medium rounded-lg text-sm px-4 py-2 text-center mr-3 md:mr-0 dark:bg-red-600 dark:hover:bg-red-700 dark:focus:ring-red-800\">Logout</button>\r\n\r\n            <button data-collapse-toggle=\"navbar-sticky\" type=\"button\" class=\"inline-flex items-center p-2 text-sm text-gray-500 rounded-lg md:hidden hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-gray-200 dark:text-gray-400 dark:hover:bg-gray-700 dark:focus:ring-gray-600\" aria-controls=\"navbar-sticky\" aria-expanded=\"false\">\r\n                <span class=\"sr-only\">Open main menu</span>\r\n                <svg class=\"w-6 h-6\" aria-hidden=\"true\" fill=\"currentColor\" viewBox=\"0 0 20 20\" xmlns=\"http://www.w3.org/2000/svg\"><path fill-rule=\"evenodd\" d=\"M3 5a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 10a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 15a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z\" clip-rule=\"evenodd\"></path></svg>\r\n            </button>\r\n        </div>\r\n        <div class=\"items-center justify-between hidden w-full md:flex md:w-auto md:order-1\" id=\"navbar-sticky\">\r\n            <ul class=\"flex flex-col p-4 md:p-0 mt-4 font-medium border border-gray-100 rounded-lg bg-gray-50 md:flex-row md:space-x-8 md:mt-0 md:border-0 md:bg-white dark:bg-gray-800 md:dark:bg-gray-900 dark:border-gray-700\">\r\n            <li>\r\n                <a href=\"/Home\" class={checkCurrentPage(\"Home\")}>Home</a>\r\n            </li>\r\n            <li>\r\n                <a href=\"/book_dropdown\" class={checkCurrentPage(\"book_dropdown\")}>Book</a>\r\n            </li>\r\n\r\n            {\r\n                (checker === \"Admin\" || checker === \"Staff\") && \r\n                <li>\r\n                    <a href=\"/approve\" class={checkCurrentPage(\"approve\")}>Approve</a>\r\n                </li>\r\n            }\r\n\r\n            {\r\n                (checker === \"Staff\") && \r\n                <li>\r\n                    <a href=\"/staff\" class={checkCurrentPage(\"staff\")}>Staff</a>\r\n                </li>\r\n            }\r\n\r\n            </ul>\r\n        </div>\r\n        </div>\r\n        </nav> \r\n        </div>  \r\n    )};"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}