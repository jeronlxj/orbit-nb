{"ast":null,"code":"import _slicedToArray from\"C:/Orbital/OrbitalPrep/bookwebapp/rwfb/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React from'react';import axios from'axios';import{useState,useEffect}from'react';import{useNavigate}from'react-router-dom';import{auth}from\"../config/firebase\";import{UserAuthenication}from'../LoginContext';import{tailw}from\"../config/styles\";import Navbar from\"../config/navbar\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";axios.defaults.withCredentials=true;var Account=function Account(){// handling user navigation\nvar _UserAuthenication=UserAuthenication(),user=_UserAuthenication.user,logout=_UserAuthenication.logout;// remove the @... from the email \nfunction extractNameFromEmail(email){return email.split('@')[0];}var name=extractNameFromEmail(user===null||user===void 0?void 0:user.email);// handling display of data from backend\nvar _useState=useState([]),_useState2=_slicedToArray(_useState,2),datas=_useState2[0],setDatas=_useState2[1];// filter datas by users - show user booking\nfunction filterByUser(data){return data.host.toLowerCase()===name.toLowerCase();}// gets booking data from django and sets state for booking data\nuseEffect(function(){fetch('api/display',{'method':'GET',headers:{'Content-Type':'application/json'}}).then(function(resp){return resp.json();}).then(function(resp){return setDatas(resp);}).catch(function(error){return alert(error);});},[]);return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{children:[\" \",/*#__PURE__*/_jsx(Navbar,{}),\" \"]}),/*#__PURE__*/_jsx(\"div\",{class:\"relative overflow-x-auto shadow-md sm:rounded-lg\",children:/*#__PURE__*/_jsxs(\"table\",{class:\"w-full text-sm text-left text-gray-500 dark:text-gray-400\",children:[/*#__PURE__*/_jsxs(\"caption\",{class:\"p-5 text-lg font-semibold text-left text-gray-900 bg-white dark:text-white dark:bg-gray-800\",children:[name,\"'s Bookings\",/*#__PURE__*/_jsx(\"p\",{class:\"mt-1 text-sm font-normal text-gray-500 dark:text-gray-400\",children:\"Browse a list display of your bookings and edit if needed\"})]}),/*#__PURE__*/_jsx(\"thead\",{class:\"text-xs text-gray-700 uppercase bg-gray-50 dark:bg-gray-700 dark:text-gray-400\",children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{scope:\"col\",class:\"px-6 py-3\",children:\"name\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",class:\"px-6 py-3\",children:\"location\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",class:\"px-6 py-3\",children:\"total_pax\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",class:\"px-6 py-3\",children:/*#__PURE__*/_jsx(\"span\",{class:\"sr-only\",children:\"Edit\"})})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:datas.filter(function(data){return filterByUser(data);}).map(function(data){return/*#__PURE__*/_jsxs(\"tr\",{class:\"bg-white border-b dark:bg-gray-800 dark:border-gray-700\",children:[/*#__PURE__*/_jsx(\"th\",{scope:\"row\",class:\"px-6 py-4 font-medium text-gray-900 whitespace-nowrap dark:text-white\",children:data.name}),/*#__PURE__*/_jsx(\"td\",{class:\"px-6 py-4\",children:data.location}),/*#__PURE__*/_jsx(\"td\",{class:\"px-6 py-4\",children:data.total_pax}),/*#__PURE__*/_jsx(\"td\",{class:\"px-6 py-4 text-right\",children:/*#__PURE__*/_jsx(\"a\",{href:\"#\",class:\"font-medium text-blue-600 dark:text-blue-500 hover:underline\",children:\"Edit\"})})]});})})]})})]});};export default Account;","map":{"version":3,"names":["React","axios","useState","useEffect","useNavigate","auth","UserAuthenication","tailw","Navbar","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","defaults","withCredentials","Account","_UserAuthenication","user","logout","extractNameFromEmail","email","split","name","_useState","_useState2","_slicedToArray","datas","setDatas","filterByUser","data","host","toLowerCase","fetch","headers","then","resp","json","catch","error","alert","children","class","scope","filter","map","location","total_pax","href"],"sources":["C:/Orbital/OrbitalPrep/bookwebapp/rwfb/src/components/Account.js"],"sourcesContent":["import React from 'react';\r\nimport axios from 'axios'\r\nimport { useState, useEffect } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\n\r\nimport { auth } from \"../config/firebase\";\r\nimport { UserAuthenication } from '../LoginContext';\r\n\r\nimport {tailw} from \"../config/styles\";\r\nimport Navbar from \"../config/navbar\";\r\n\r\naxios.defaults.withCredentials = true;\r\n\r\nconst Account = () => {\r\n  // handling user navigation\r\n  const { user, logout } = UserAuthenication();\r\n\r\n  // remove the @... from the email \r\n  function extractNameFromEmail(email) {\r\n      return email.split('@')[0];\r\n  }\r\n  const name = extractNameFromEmail(user?.email)\r\n\r\n  // handling display of data from backend\r\n  const [datas, setDatas] = useState([]);\r\n\r\n  // filter datas by users - show user booking\r\n  function filterByUser(data) {\r\n      return data.host.toLowerCase() === name.toLowerCase();\r\n  }\r\n\r\n  // gets booking data from django and sets state for booking data\r\n  useEffect(() => {\r\n      fetch('api/display', {\r\n      'method' : 'GET',\r\n      headers: {\r\n          'Content-Type': 'application/json'\r\n      }\r\n  }).then(resp => resp.json())\r\n  .then(resp => setDatas(resp))\r\n  .catch(error => alert(error))\r\n  }, [])\r\n\r\n  return(  \r\n    <> \r\n      <div> <Navbar/> </div>\r\n       \r\n      <div class=\"relative overflow-x-auto shadow-md sm:rounded-lg\">\r\n      <table class=\"w-full text-sm text-left text-gray-500 dark:text-gray-400\">\r\n\r\n          <caption class=\"p-5 text-lg font-semibold text-left text-gray-900 bg-white dark:text-white dark:bg-gray-800\">\r\n              {name}'s Bookings\r\n              <p class=\"mt-1 text-sm font-normal text-gray-500 dark:text-gray-400\">Browse a list display of your bookings and edit if needed</p>\r\n          </caption>\r\n\r\n          <thead class=\"text-xs text-gray-700 uppercase bg-gray-50 dark:bg-gray-700 dark:text-gray-400\">\r\n              <tr>\r\n                  <th scope=\"col\" class=\"px-6 py-3\">\r\n                      name\r\n                  </th>\r\n                  <th scope=\"col\" class=\"px-6 py-3\">\r\n                      location\r\n                  </th>\r\n                  <th scope=\"col\" class=\"px-6 py-3\">\r\n                      total_pax\r\n                  </th>\r\n                  <th scope=\"col\" class=\"px-6 py-3\">\r\n                      <span class=\"sr-only\">Edit</span>\r\n                  </th>\r\n              </tr>\r\n          </thead>\r\n\r\n          <tbody>\r\n              {\r\n                  datas.filter(data => filterByUser(data)).map(data => {\r\n                  return (\r\n                  <tr class=\"bg-white border-b dark:bg-gray-800 dark:border-gray-700\">\r\n                      <th scope=\"row\" class=\"px-6 py-4 font-medium text-gray-900 whitespace-nowrap dark:text-white\">\r\n                          {data.name}\r\n                      </th>\r\n                      <td class=\"px-6 py-4\">\r\n                          {data.location}\r\n                      </td>\r\n                      <td class=\"px-6 py-4\">\r\n                          {data.total_pax}\r\n                      </td>\r\n                      <td class=\"px-6 py-4 text-right\">\r\n                          <a href=\"#\" class=\"font-medium text-blue-600 dark:text-blue-500 hover:underline\">Edit</a>\r\n                      </td>\r\n                  </tr>\r\n                  )\r\n              })\r\n              }\r\n              \r\n          </tbody>\r\n\r\n      </table>\r\n      </div>\r\n\r\n    </>\r\n\r\n  )\r\n}\r\nexport default Account;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}