{"ast":null,"code":"import _defineProperty from\"C:/Orbital/orbit/rwfb/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"C:/Orbital/orbit/rwfb/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"C:/Orbital/orbit/rwfb/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React from'react';import axios from'axios';import{useState,useEffect}from'react';import{useNavigate}from'react-router-dom';import{auth}from\"../config/firebase\";import{UserAuthentication}from'../LoginContext';import{tailw}from\"../config/styles\";import Navbar from\"../config/navbar\";import BookingDisplay from\"../config/booking_display\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";axios.defaults.withCredentials=true;var Rome=function Rome(){// handling user navigation\nvar _UserAuthentication=UserAuthentication(),user=_UserAuthentication.user,logout=_UserAuthentication.logout;var navigate=useNavigate();// handling display of data from backend\nvar _useState=useState([]),_useState2=_slicedToArray(_useState,2),datas=_useState2[0],setDatas=_useState2[1];useEffect(function(){fetch('api/display',{'method':'GET',headers:{'Content-Type':'application/json'}}).then(function(resp){return resp.json();}).then(function(resp){return setDatas(resp);}).catch(function(error){return alert(error);});},[]);// handling POST of data to create venues via a form\n// create a default Venue input object\nvar initialVenue={name:\"\",location:\"\",closed:false,total_pax:0,host:\"\"};var _useState3=useState(initialVenue),_useState4=_slicedToArray(_useState3,2),values=_useState4[0],setValues=_useState4[1];// handle input change of the form\nvar handleChange=function handleChange(e){var _e$target=e.target,name=_e$target.name,value=_e$target.value;setValues(_objectSpread(_objectSpread({},values),{},_defineProperty({},name,value)));console.log(values);};// handle the submit of the form to django\nvar handleSubmit=function handleSubmit(e){//e.preventDefault();\n/*\r\n        let formField = new FormData();\r\n        formField.append('name',values.name)\r\n        formField.append('location',values.location)\r\n        formField.append('closed',values.closed)\r\n        formField.append('total_pax',values.total_pax)\r\n        formField.append('host',values.host)\r\n        \r\n        axios.post({\r\n        method: 'post',\r\n        url: `http://127.0.0.1:8000/api/venue`, \r\n        data: {\r\n            formField\r\n        }  \r\n        })\r\n        .then(res => {\r\n            console.log(res);\r\n            console.log(res.data);\r\n        }); \r\n        \r\n\r\n        \r\n        fetch('api/venue', {\r\n        method: 'POST',\r\n        headers: {\"Content-Type\":\"application/json\"},\r\n        body: JSON.stringify(values)\r\n        });\r\n        */var formField=new FormData();formField.append('name',values.name);formField.append('location',values.location);formField.append('closed',values.closed);formField.append('total_pax',values.total_pax);formField.append('host',values.host);axios.post(\"api/venue\",formField);};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"name\",onChange:handleChange,placeholder:\"name\",value:values.name}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"location\",onChange:handleChange,placeholder:\"location\",value:values.location}),/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",name:\"closed\",onChange:handleChange,placeholder:\"closed\",value:values.closed}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",name:\"total_pax\",onChange:handleChange,placeholder:\"total_pax\",value:values.total_pax}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"host\",onChange:handleChange,placeholder:\"host\",value:values.host}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Add\"})]})}),/*#__PURE__*/_jsx(\"div\",{children:datas.map(function(datas){return/*#__PURE__*/_jsx(\"h2\",{children:datas.name});})})]});};export default Rome;","map":{"version":3,"names":["React","axios","useState","useEffect","useNavigate","auth","UserAuthentication","tailw","Navbar","BookingDisplay","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","defaults","withCredentials","Rome","_UserAuthentication","user","logout","navigate","_useState","_useState2","_slicedToArray","datas","setDatas","fetch","headers","then","resp","json","catch","error","alert","initialVenue","name","location","closed","total_pax","host","_useState3","_useState4","values","setValues","handleChange","e","_e$target","target","value","_objectSpread","_defineProperty","console","log","handleSubmit","formField","FormData","append","post","children","onSubmit","type","onChange","placeholder","map"],"sources":["C:/Orbital/orbit/rwfb/src/components/poststuff.js"],"sourcesContent":["import React from 'react';\r\nimport axios from 'axios';\r\nimport { useState, useEffect } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\n\r\nimport { auth } from \"../config/firebase\";\r\nimport { UserAuthentication } from '../LoginContext';\r\n\r\nimport {tailw} from \"../config/styles\";\r\nimport Navbar from \"../config/navbar\";\r\nimport BookingDisplay from \"../config/booking_display\";\r\n\r\naxios.defaults.withCredentials = true;\r\n\r\nconst Rome = () => {\r\n\r\n    // handling user navigation\r\n    const { user, logout } = UserAuthentication();\r\n    const navigate = useNavigate();\r\n\r\n    // handling display of data from backend\r\n    const [datas, setDatas] = useState([]);\r\n\r\n    useEffect(() => {\r\n        fetch('api/display', {\r\n        'method' : 'GET',\r\n        headers: {\r\n            'Content-Type': 'application/json'\r\n        }\r\n    }).then(resp => resp.json())\r\n    .then(resp => setDatas(resp))\r\n    .catch(error => alert(error))\r\n    }, [])\r\n\r\n    // handling POST of data to create venues via a form\r\n    // create a default Venue input object\r\n    const initialVenue = {\r\n        name: \"\",\r\n        location: \"\",\r\n        closed: false,\r\n        total_pax: 0,\r\n        host: \"\",\r\n    }\r\n    const [values, setValues] = useState(initialVenue);\r\n\r\n    // handle input change of the form\r\n    const handleChange = (e) => {\r\n        const {name, value} = e.target;\r\n\r\n        setValues({\r\n        ...values,\r\n        [name]: value,\r\n        })\r\n        console.log(values)\r\n    }\r\n\r\n    // handle the submit of the form to django\r\n    const handleSubmit = (e) => {\r\n        //e.preventDefault();\r\n\r\n        /*\r\n        let formField = new FormData();\r\n        formField.append('name',values.name)\r\n        formField.append('location',values.location)\r\n        formField.append('closed',values.closed)\r\n        formField.append('total_pax',values.total_pax)\r\n        formField.append('host',values.host)\r\n        \r\n        axios.post({\r\n        method: 'post',\r\n        url: `http://127.0.0.1:8000/api/venue`, \r\n        data: {\r\n            formField\r\n        }  \r\n        })\r\n        .then(res => {\r\n            console.log(res);\r\n            console.log(res.data);\r\n        }); \r\n        \r\n\r\n        \r\n        fetch('api/venue', {\r\n        method: 'POST',\r\n        headers: {\"Content-Type\":\"application/json\"},\r\n        body: JSON.stringify(values)\r\n        });\r\n        */\r\n        let formField = new FormData();\r\n        formField.append('name',values.name)\r\n        formField.append('location',values.location)\r\n        formField.append('closed',values.closed)\r\n        formField.append('total_pax',values.total_pax)\r\n        formField.append('host',values.host)\r\n        \r\n        axios.post(`api/venue`, formField)\r\n    };\r\n    \r\n    return (\r\n        <>\r\n        <div>\r\n            <form onSubmit={handleSubmit}>\r\n\r\n            <input type=\"text\" name=\"name\" onChange={handleChange} \r\n            placeholder='name' value={values.name}/>\r\n            <input type=\"text\" name=\"location\" onChange={handleChange} \r\n            placeholder='location' value={values.location}/>\r\n            <input type=\"checkbox\" name=\"closed\" onChange={handleChange} \r\n            placeholder='closed' value={values.closed}/>\r\n            <input type=\"number\" name=\"total_pax\" onChange={handleChange} \r\n            placeholder='total_pax' value={values.total_pax}/>\r\n            <input type=\"text\" name=\"host\" onChange={handleChange} \r\n            placeholder='host' value={values.host}/>\r\n\r\n            <button type=\"submit\">Add</button>\r\n            </form>\r\n        </div>\r\n\r\n        <div>\r\n            {datas.map(datas => {\r\n            return <h2>{datas.name}</h2>\r\n            })}\r\n        </div>\r\n        </>\r\n    )\r\n}\r\nexport default Rome;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}