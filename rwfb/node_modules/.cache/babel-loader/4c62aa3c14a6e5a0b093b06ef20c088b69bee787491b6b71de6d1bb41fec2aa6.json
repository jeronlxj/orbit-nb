{"ast":null,"code":"import _slicedToArray from\"C:/Orbital/OrbitalPrep/bookwebapp/rwfb/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"C:/Orbital/OrbitalPrep/bookwebapp/rwfb/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Orbital/OrbitalPrep/bookwebapp/rwfb/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import React from'react';import{useState,useEffect}from'react';import{useNavigate}from'react-router-dom';import{auth}from\"../config/firebase\";import{UserAuthenication}from'../LoginContext';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Account=function Account(){var _UserAuthenication=UserAuthenication(),user=_UserAuthenication.user,logout=_UserAuthenication.logout;var navigate=useNavigate();var handleLogout=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(e){return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.prev=0;e.preventDefault();_context.next=4;return logout(auth);case 4:navigate('/');_context.next=10;break;case 7:_context.prev=7;_context.t0=_context[\"catch\"](0);alert(_context.t0);case 10:case\"end\":return _context.stop();}},_callee,null,[[0,7]]);}));return function handleLogout(_x){return _ref.apply(this,arguments);};}();var goToRoom=function goToRoom(){navigate('/room/');};var _useState=useState([]),_useState2=_slicedToArray(_useState,2),datas=_useState2[0],setDatas=_useState2[1];useEffect(function(){fetch('http://127.0.0.1:8000/api/display'),{'method':'GET',headers:{'Content-Type':'application/json'}};}).then(function(resp){return resp.json();}).then(function(resp){return setDatas(resp);}).catch(function(error){return alert(error);});return/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-[600px] mx-auto my-16 p-4\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-2xl font-bold py-4\",children:\"Account\"}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Welcome User: \",user===null||user===void 0?void 0:user.email,\" \"]}),/*#__PURE__*/_jsx(\"button\",{onClick:handleLogout,className:\"border px-6 py-2 my-4\",children:\"Logout\"}),/*#__PURE__*/_jsx(\"button\",{onClick:goToRoom,className:\"border px-6 py-2 my-4\",children:\"Go to Room\"}),datas.map(function(datas){return/*#__PURE__*/_jsx(\"h2\",{children:datas.name});})]});};export default Account;","map":{"version":3,"names":["React","useState","useEffect","useNavigate","auth","UserAuthenication","jsx","_jsx","jsxs","_jsxs","Account","_UserAuthenication","user","logout","navigate","handleLogout","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","e","wrap","_callee$","_context","prev","next","preventDefault","t0","alert","stop","_x","apply","arguments","goToRoom","_useState","_useState2","_slicedToArray","datas","setDatas","fetch","headers","then","resp","json","catch","error","className","children","email","onClick","map","name"],"sources":["C:/Orbital/OrbitalPrep/bookwebapp/rwfb/src/components/Account.js"],"sourcesContent":["import React from 'react';\r\nimport { useState, useEffect } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\n\r\nimport { auth } from \"../config/firebase\";\r\nimport { UserAuthenication } from '../LoginContext';\r\n\r\nconst Account = () => {\r\n\r\n  const { user, logout } = UserAuthenication();\r\n  const navigate = useNavigate();\r\n\r\n  const handleLogout = async (e) => {\r\n    try {\r\n        e.preventDefault();  \r\n        await logout(auth);\r\n        navigate('/');\r\n    } catch (e) {\r\n        alert(e);\r\n    }\r\n  }; \r\n\r\n  const goToRoom = () => {\r\n    navigate('/room/');\r\n  }\r\n\r\n  const [datas, setDatas] = useState([]);\r\n\r\n  useEffect(() => {\r\n    fetch('http://127.0.0.1:8000/api/display'), {\r\n      'method' : 'GET',\r\n      headers: {'Content-Type': 'application/json'}\r\n    }\r\n  }).then(resp => resp.json())\r\n  .then(resp => setDatas(resp))\r\n  .catch(error => alert(error));\r\n\r\n  return (\r\n    <div className='max-w-[600px] mx-auto my-16 p-4'>\r\n      <h1 className='text-2xl font-bold py-4'>Account</h1>\r\n      <p>Welcome User: {user?.email} </p>\r\n\r\n      <button onClick={handleLogout} className='border px-6 py-2 my-4'>\r\n        Logout\r\n      </button>\r\n\r\n      <button onClick={goToRoom} className='border px-6 py-2 my-4'>\r\n        Go to Room\r\n      </button>\r\n\r\n      {datas.map(datas => {\r\n        return <h2>{datas.name}</h2>\r\n      })}\r\n\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Account;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}