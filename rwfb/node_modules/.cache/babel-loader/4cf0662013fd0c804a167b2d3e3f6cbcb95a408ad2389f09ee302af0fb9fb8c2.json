{"ast":null,"code":"import _slicedToArray from\"C:/Orbital/orbit/rwfb/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{createContext,useContext,useEffect,useState}from'react';import{createUserWithEmailAndPassword,signInWithEmailAndPassword,signOut,onAuthStateChanged,sendPasswordResetEmail}from\"firebase/auth\";import{auth}from\"./config/firebase\";import{jsx as _jsx}from\"react/jsx-runtime\";var UserContext=/*#__PURE__*/createContext(null);// creating useContext Hook\nexport var LoginContextProvider=function LoginContextProvider(_ref){var children=_ref.children;/* create dummy objects for testing before database integration */ // Location & Facility objects\nvar locations=[{Name:\"CAPT\"},{Name:\"YALE\"},{Name:\"TEMBU\"}];var facilities=[{Name:\"SR1\",Capacity:20,facilityId:1,locationName:\"CAPT\"},{Name:\"SR2\",Capacity:20,facilityId:2,locationName:\"CAPT\"},{Name:\"SR3\",Capacity:20,facilityId:3,locationName:\"YALE\"},{Name:\"SR4\",Capacity:20,facilityId:4,locationName:\"YALE\"},{Name:\"MPSH\",Capacity:30,facilityId:5,locationName:\"TEMBU\"},{Name:\"SR5\",Capacity:20,facilityId:6,locationName:\"TEMBU\"}];// User object\nvar _useState=useState({studentId:1,Name:\"ramanen\"},{studentId:2,Name:\"ramanenb\"},{studentId:3,Name:\"jeron\"}),_useState2=_slicedToArray(_useState,2),students=_useState2[0],setStudents=_useState2[1];// Booking Object\nvar _useState3=useState([{id:1,date:'2023-06-13',startTime:'10:00:00',endTime:'11:00:00',status:\"pending\",bookingTitle:\"Milestone 2\",facilityId:6,studentId:1},{id:2,date:'2023-06-12',startTime:'10:00:00',endTime:'11:00:00',status:\"pending\",bookingTitle:\"Milestone 1\",facilityId:6,studentId:1},{id:3,date:'2023-06-12',startTime:'10:00:00',endTime:'11:00:00',status:\"pending\",bookingTitle:\"Milestone 3\",facilityId:3,studentId:2}]),_useState4=_slicedToArray(_useState3,2),Bookings=_useState4[0],setBookings=_useState4[1];// drop-down booking location & facility setters\nvar _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),setLocation=_useState6[0],setSelectedLocation=_useState6[1];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),setFacility=_useState8[0],setSelectedFacility=_useState8[1];/* FIREBASE FUNCTIONS & USER */ // user object \nvar _useState9=useState({}),_useState10=_slicedToArray(_useState9,2),user=_useState10[0],setUser=_useState10[1];var createUser=function createUser(email,password){return createUserWithEmailAndPassword(auth,email,password);};// login firebase function\nvar login=function login(email,password){return signInWithEmailAndPassword(auth,email,password);};// logout firebase function\nvar logout=function logout(){return signOut(auth);};// updating user object when there is a state change to User \nuseEffect(function(){var subscribe=onAuthStateChanged(auth,function(currentUser){setUser(currentUser);});return function(){subscribe();};},[]);// reset password when forgot password or just to reset\nvar resetPassword=function resetPassword(email){return sendPasswordResetEmail(auth,email);};// make the props passed to all children neater \nvar loginContextValue={// user & login page functions\nuser:user,createUser:createUser,login:login,logout:logout,resetPassword:resetPassword,// data \nlocations:locations,facilities:facilities,Bookings:Bookings,setBookings:setBookings,// drop-down booking setters\nsetLocation:setLocation,setSelectedLocation:setSelectedLocation,setFacility:setFacility,setSelectedFacility:setSelectedFacility};return/*#__PURE__*/ (// pass down User object and signup,loginmlogout function as props\n_jsx(UserContext.Provider,{value:loginContextValue,children:children}));};// exporting the context out \nexport var UserAuthentication=function UserAuthentication(){return useContext(UserContext);};","map":{"version":3,"names":["createContext","useContext","useEffect","useState","createUserWithEmailAndPassword","signInWithEmailAndPassword","signOut","onAuthStateChanged","sendPasswordResetEmail","auth","jsx","_jsx","UserContext","LoginContextProvider","_ref","children","locations","Name","facilities","Capacity","facilityId","locationName","_useState","studentId","_useState2","_slicedToArray","students","setStudents","_useState3","id","date","startTime","endTime","status","bookingTitle","_useState4","Bookings","setBookings","_useState5","_useState6","setLocation","setSelectedLocation","_useState7","_useState8","setFacility","setSelectedFacility","_useState9","_useState10","user","setUser","createUser","email","password","login","logout","subscribe","currentUser","resetPassword","loginContextValue","Provider","value","UserAuthentication"],"sources":["C:/Orbital/orbit/rwfb/src/LoginContext.js"],"sourcesContent":["import { createContext, useContext, useEffect, useState } from 'react';\r\nimport { createUserWithEmailAndPassword, signInWithEmailAndPassword,\r\nsignOut, onAuthStateChanged, sendPasswordResetEmail } from \"firebase/auth\";\r\nimport { auth } from \"./config/firebase\";\r\n\r\nconst UserContext = createContext(null);\r\n\r\n// creating useContext Hook\r\nexport const LoginContextProvider = ({children}) => {\r\n\r\n    /* create dummy objects for testing before database integration */\r\n    // Location & Facility objects\r\n    const locations = [\r\n        {\r\n            Name: \"CAPT\"\r\n        },\r\n        {\r\n            Name: \"YALE\"\r\n        },\r\n        {\r\n            Name: \"TEMBU\"\r\n        }\r\n    ];\r\n\r\n    const facilities = [\r\n        { Name:\"SR1\" , Capacity:20, facilityId:1, locationName: \"CAPT\"},\r\n        { Name:\"SR2\" , Capacity:20, facilityId:2, locationName: \"CAPT\" },\r\n\r\n        { Name:\"SR3\" , Capacity:20, facilityId:3, locationName: \"YALE\"},\r\n        { Name:\"SR4\" , Capacity:20, facilityId:4, locationName: \"YALE\" },\r\n\r\n        { Name:\"MPSH\" , Capacity:30, facilityId:5, locationName: \"TEMBU\"},\r\n        { Name:\"SR5\" , Capacity:20,  facilityId:6, locationName: \"TEMBU\" },\r\n    ];\r\n\r\n    // User object\r\n    const [students,setStudents] = useState(\r\n        { studentId: 1, Name: \"ramanen\"} ,\r\n        { studentId: 2, Name: \"ramanenb\"},\r\n        { studentId: 3, Name: \"jeron\"}\r\n    )\r\n\r\n    // Booking Object\r\n    const [Bookings, setBookings] = useState(\r\n    [\r\n        {\r\n            id:1, date:  '2023-06-13', startTime: '10:00:00', endTime: '11:00:00',\r\n            status: \"pending\", bookingTitle: \"Milestone 2\", facilityId:6, studentId: 1\r\n        },\r\n        {\r\n            id:2, date:  '2023-06-12', startTime: '10:00:00', endTime: '11:00:00',\r\n            status: \"pending\", bookingTitle: \"Milestone 1\", facilityId:6, studentId: 1\r\n        },\r\n        {\r\n            id:3, date:  '2023-06-12', startTime: '10:00:00', endTime: '11:00:00',\r\n            status: \"pending\", bookingTitle: \"Milestone 3\", facilityId:3, studentId: 2\r\n        }\r\n    ]);\r\n\r\n    // drop-down booking location & facility setters\r\n    const [setLocation, setSelectedLocation] = useState(\"\");\r\n    const [setFacility, setSelectedFacility] = useState(\"\");\r\n\r\n\r\n    /* FIREBASE FUNCTIONS & USER */\r\n    // user object \r\n    const [user, setUser] = useState({});\r\n\r\n    const createUser = (email, password) => {\r\n        return createUserWithEmailAndPassword(auth, email, password);\r\n    };\r\n\r\n    // login firebase function\r\n    const login = (email, password) =>  {\r\n        return signInWithEmailAndPassword(auth, email, password);\r\n    }\r\n\r\n    // logout firebase function\r\n    const logout = () => {\r\n        return signOut(auth);\r\n    }\r\n\r\n    // updating user object when there is a state change to User \r\n    useEffect(() => {\r\n        const subscribe = onAuthStateChanged(auth, (currentUser) => {\r\n          setUser(currentUser);\r\n        });\r\n        return () => {\r\n          subscribe();\r\n        };\r\n    }, []);\r\n\r\n    // reset password when forgot password or just to reset\r\n    const resetPassword = (email) => {\r\n        return sendPasswordResetEmail(auth,email);\r\n    }\r\n\r\n    // make the props passed to all children neater \r\n    const loginContextValue = {\r\n        // user & login page functions\r\n        user, createUser, login, logout, resetPassword,\r\n        // data \r\n        locations, facilities, Bookings, setBookings,\r\n        // drop-down booking setters\r\n        setLocation, setSelectedLocation, setFacility, setSelectedFacility,\r\n    };\r\n\r\n    return (\r\n        // pass down User object and signup,loginmlogout function as props\r\n        <UserContext.Provider value={loginContextValue}>\r\n            { children }\r\n        </UserContext.Provider>\r\n    );\r\n}\r\n\r\n// exporting the context out \r\nexport const UserAuthentication = () => {\r\n    return useContext(UserContext);\r\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}